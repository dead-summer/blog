<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.24" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.159" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><link rel="icon" href="favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><title>2 数据链路层的三个重要问题 | Summer Reverie</title><meta name="description" content="以文字为舟，停泊在夏日岛屿。"><link rel="preload" href="/blog/assets/style-Bgyj1d4F.css" as="style"><link rel="stylesheet" href="/blog/assets/style-Bgyj1d4F.css"><link rel="modulepreload" href="/blog/assets/app-CAzY0Upz.js"><link rel="modulepreload" href="/blog/assets/index.html-0prAErrc.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-203c4ba0><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-99d41955></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-99d41955> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-203c4ba0 data-v-87c1601e><div class="vp-navbar" vp-navbar data-v-87c1601e data-v-8aa02444><div class="wrapper" data-v-8aa02444><div class="container" data-v-8aa02444><div class="title" data-v-8aa02444><div class="vp-navbar-title has-sidebar" data-v-8aa02444 data-v-ab2a1d26><a class="vp-link link no-icon title" href="/blog/" data-v-ab2a1d26><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/blog/logo.svg" alt data-v-66df59b9><!--]--><!--[--><img class="vp-image light logo" style="" src="/blog/logo.svg" alt data-v-66df59b9><!--]--><!--]--><!--]--><span data-v-ab2a1d26>Summer Reverie</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-8aa02444><div class="content-body" data-v-8aa02444><!--[--><!--]--><div class="vp-navbar-search search" data-v-8aa02444><div class="search-wrapper" data-v-c5bd895d><!----><div id="local-search" data-v-c5bd895d><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-c5bd895d><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-8aa02444 data-v-ad7ba5ad><span id="main-nav-aria-label" class="visually-hidden" data-v-ad7ba5ad>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/" tabindex="0" data-v-ad7ba5ad data-v-fe68a192><!--[--><!----><span data-v-fe68a192>首页</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/blog/" tabindex="0" data-v-ad7ba5ad data-v-fe68a192><!--[--><!----><span data-v-fe68a192>博客</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/blog/categories/" tabindex="0" data-v-ad7ba5ad data-v-fe68a192><!--[--><!----><span data-v-fe68a192>分类</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/notes/" tabindex="0" data-v-ad7ba5ad data-v-fe68a192><!--[--><!----><span data-v-fe68a192>笔记</span><!----><!--]--><!----></a><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-8aa02444 data-v-a9dcbd44><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a9dcbd44 data-v-c9a2ba73 data-v-cea33b13><span class="check" data-v-cea33b13><span class="icon" data-v-cea33b13><!--[--><span class="vpi-sun sun" data-v-c9a2ba73></span><span class="vpi-moon moon" data-v-c9a2ba73></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-8aa02444 data-v-beb0c7f0 data-v-0f2ab498><!--[--><a class="vp-social-link no-icon" href="https://github.com/dead-summer" aria-label="github" target="_blank" rel="noopener" data-v-0f2ab498 data-v-42c2bc06><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-8aa02444 data-v-a9c937da data-v-11ad119f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-11ad119f><span class="vpi-more-horizontal icon" data-v-11ad119f></span></button><div class="menu" data-v-11ad119f><div class="vp-menu" data-v-11ad119f data-v-a9cef2e9><!----><!--[--><!--[--><!----><div class="group" data-v-a9c937da><div class="item appearance" data-v-a9c937da><p class="label" data-v-a9c937da>外观</p><div class="appearance-action" data-v-a9c937da><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a9c937da data-v-c9a2ba73 data-v-cea33b13><span class="check" data-v-cea33b13><span class="icon" data-v-cea33b13><!--[--><span class="vpi-sun sun" data-v-c9a2ba73></span><span class="vpi-moon moon" data-v-c9a2ba73></span><!--]--></span></span></button></div></div></div><div class="group" data-v-a9c937da><div class="item social-links" data-v-a9c937da><div class="vp-social-links social-links-list" data-v-a9c937da data-v-0f2ab498><!--[--><a class="vp-social-link no-icon" href="https://github.com/dead-summer" aria-label="github" target="_blank" rel="noopener" data-v-0f2ab498 data-v-42c2bc06><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-8aa02444 data-v-91de03ad><span class="container" data-v-91de03ad><span class="top" data-v-91de03ad></span><span class="middle" data-v-91de03ad></span><span class="bottom" data-v-91de03ad></span></span></button></div></div></div></div><div class="divider" data-v-8aa02444><div class="divider-line" data-v-8aa02444></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-203c4ba0 data-v-c553d6dd><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-c553d6dd><span class="vpi-align-left menu-icon" data-v-c553d6dd></span><span class="menu-text" data-v-c553d6dd>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-c553d6dd data-v-8c3ac3e6><button data-v-8c3ac3e6>返回顶部</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-203c4ba0 data-v-bb1063b0><div class="curtain" data-v-bb1063b0></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-bb1063b0><span id="sidebar-aria-label" class="visually-hidden" data-v-bb1063b0> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-74a29627><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-74a29627 data-v-57d0d9d8><div class="item" role="button" tabindex="0" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><h2 class="text" data-v-57d0d9d8><span data-v-57d0d9d8>第1章 概述</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-57d0d9d8><span class="vpi-chevron-right caret-icon" data-v-57d0d9d8></span></div></div><div data-v-57d0d9d8 data-v-57d0d9d8><div class="items" data-v-57d0d9d8><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/1-1-information-era-computer-networks/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>1 信息时代的计算机网络</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/1-2-internet-overview/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>2 因特网概述</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/1-3-circuit-switching-packet-switching-and-message-switching/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>3 电路交换、分组交换和报文交换</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/1-4-computer-network-definition-and-classification/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>4 计算机网络的定义和分类</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/1-5-computer-network-performance-indicators/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>5 计算机网络的性能指标</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/1-6-computer-network-architecture/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>6 计算机网络体系结构</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-74a29627><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-74a29627 data-v-57d0d9d8><div class="item" role="button" tabindex="0" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><h2 class="text" data-v-57d0d9d8><span data-v-57d0d9d8>第2章 物理层</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-57d0d9d8><span class="vpi-chevron-right caret-icon" data-v-57d0d9d8></span></div></div><div data-v-57d0d9d8 data-v-57d0d9d8><div class="items" data-v-57d0d9d8><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/2-1-physical-layer-overview/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>1 物理层概述</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/2-2-physical-layer-below-transmission-media/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>2 物理层下面的传输媒体</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/2-3-transmission-methods/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>3 传输方式</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/2-4-coding-and-modulation/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>4 编码与调制</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/2-5-channel-limit-capacity/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>5 信道的极限容量</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/2-6-channel-multiplexing-technology/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>6 信道复用技术</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-74a29627><section class="vp-sidebar-item sidebar-item level-0 collapsible has-active" data-v-74a29627 data-v-57d0d9d8><div class="item" role="button" tabindex="0" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><h2 class="text" data-v-57d0d9d8><span data-v-57d0d9d8>第3章 数据包链路层</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-57d0d9d8><span class="vpi-chevron-right caret-icon" data-v-57d0d9d8></span></div></div><div data-v-57d0d9d8 data-v-57d0d9d8><div class="items" data-v-57d0d9d8><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/iqk7fis3/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>1 数据链路层概述</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/7c9rl9n5/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>2 数据链路层的三个重要问题</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/qeslqfmv/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>3 点对点协议</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/50v374oh/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>4 共享式以太网</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-57d0d9d8 data-v-57d0d9d8><div class="item" data-v-57d0d9d8><div class="indicator" data-v-57d0d9d8></div><!----><a class="vp-link link link" href="/blog/notes/HNUSTComputerNetwork/em2c7oi1/" data-v-57d0d9d8><!--[--><p class="text" data-v-57d0d9d8><span data-v-57d0d9d8>5 交换式以太网</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-203c4ba0 data-v-15f72782><div class="vp-doc-container has-sidebar has-aside" data-v-15f72782 data-v-a752cb74><!--[--><!--]--><div class="container" data-v-a752cb74><div class="aside" vp-outline data-v-a752cb74><div class="aside-curtain" data-v-a752cb74></div><div class="aside-container" data-v-a752cb74><div class="aside-content" data-v-a752cb74><div class="vp-doc-aside" data-v-a752cb74 data-v-4d99e404><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-4d99e404 data-v-6151742a><div class="content" data-v-6151742a><div class="outline-marker" data-v-6151742a></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-6151742a><span data-v-6151742a>此页内容</span><span class="vpi-print icon" data-v-6151742a></span></div><ul class="root" data-v-6151742a data-v-bbb6b19b><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-4d99e404></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-a752cb74><div class="content-container" data-v-a752cb74><!--[--><!--]--><main class="main" data-v-a752cb74><nav class="vp-breadcrumb" data-v-a752cb74 data-v-9134fa65><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-9134fa65><!--[--><li property="itemListElement" typeof="ListItem" data-v-9134fa65><a class="vp-link link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-9134fa65><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-9134fa65></span><meta property="name" content="首页" data-v-9134fa65><meta property="position" content="1" data-v-9134fa65></li><li property="itemListElement" typeof="ListItem" data-v-9134fa65><span class="vp-link breadcrumb" property="item" typeof="WebPage" data-v-9134fa65><!--[-->第3章 数据包链路层<!--]--><!----></span><span class="vpi-chevron-right" data-v-9134fa65></span><meta property="name" content="第3章 数据包链路层" data-v-9134fa65><meta property="position" content="2" data-v-9134fa65></li><li property="itemListElement" typeof="ListItem" data-v-9134fa65><a class="vp-link link breadcrumb current" href="/blog/notes/HNUSTComputerNetwork/7c9rl9n5/" property="item" typeof="WebPage" data-v-9134fa65><!--[-->2 数据链路层的三个重要问题<!--]--><!----></a><!----><meta property="name" content="2 数据链路层的三个重要问题" data-v-9134fa65><meta property="position" content="3" data-v-9134fa65></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-0716210e>2 数据链路层的三个重要问题 <!----></h1><div class="vp-doc-meta" data-v-0716210e><!--[--><!--]--><p class="reading-time" data-v-0716210e><span class="vpi-books icon" data-v-0716210e></span><span data-v-0716210e>约 7633 字</span><span data-v-0716210e>大约 25 分钟</span></p><!----><!--[--><!--]--><p class="create-time" data-v-0716210e><span class="vpi-clock icon" data-v-0716210e></span><span data-v-0716210e>2025-06-07</span></p></div><!--]--><!--[--><!--]--><div class="_notes_HNUSTComputerNetwork_7c9rl9n5_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-a752cb74><!--[--><!--]--><div data-v-a752cb74><p>数据链路层协议需要解决的三个重要问题：</p><ol><li>封装成帧和透明传输</li><li>差错检测</li><li>可靠传输</li></ol><h2 id="_3-2-1-封装成帧和透明传输" tabindex="-1"><a class="header-anchor" href="#_3-2-1-封装成帧和透明传输"><span><strong>3.2.1 封装成帧和透明传输</strong></span></a></h2><h3 id="_1-封装成帧" tabindex="-1"><a class="header-anchor" href="#_1-封装成帧"><span>1. 封装成帧</span></a></h3><p><strong>封装成帧 (framing)</strong>：给网络层交付下来的分组添加一个首部和一个尾部，构成一个帧。帧的首部和尾部包含重要的控制信息，如帧开始符、源地址、目的地址、帧校验序列和帧结束符。接收方根据帧首部和尾部进行帧定界。</p><h3 id="_2-透明传输" tabindex="-1"><a class="header-anchor" href="#_2-透明传输"><span>2. 透明传输</span></a></h3><p><strong>透明传输</strong>：数据链路层对上层交付的协议数据单元（PDU）的内容没有任何限制。</p><p>当帧的数据载荷部分出现帧定界符时，需要采取措施，使接收方数据链路层能够正确进行帧定界。</p><p>实现透明传输的方法：</p><h4 id="_1-字节填充" tabindex="-1"><a class="header-anchor" href="#_1-字节填充"><span>1) 字节填充</span></a></h4><p><strong>字节填充</strong>：当使用面向字节的物理链路时，发送方在数据载荷中出现帧定界符的前面，插入一个转义字符 “ESC”（十六进制编码是 1B）。如果转义字符自身也出现在数据载荷中，则在转义字符的前面也插入一个转义字符。接收方在把数据载荷向上交付网络层之前，删除发送方插入的转义字符。 <img src="/blog/assets/%E5%AD%97%E8%8A%82%E5%A1%AB%E5%85%85-DOJmACC9.png" alt="字节填充" width="750" style="display:block;margin:auto;"></p><h4 id="_2-比特填充" tabindex="-1"><a class="header-anchor" href="#_2-比特填充"><span>2) 比特填充</span></a></h4><p><strong>比特填充</strong>：当使用面向比特的物理链路时，发送方扫描数据载荷，只要出现 5 个连续的比特 1，就在其后填入一个比特 0。接收方在把数据载荷向上交付网络层之前，对数据载荷进行扫描，每当发现 5 个连续的比特 1 时，就把其后的一个比特 0 删除。 <img src="/blog/assets/%E6%AF%94%E7%89%B9%E5%A1%AB%E5%85%85-CEw_JpU9.png" alt="比特填充" width="750" style="display:block;margin:auto;"></p><div class="hint-container question"><p class="hint-container-title">2013 年 题 37</p><p>HDLC 协议对 <code>0111110001111110</code> 组帧后对应的比特串为 ( ) 。</p><p>A. <code>011111000011111010</code></p><p>B. <code>01111100011111010111110</code></p><p>C. <code>01111100011111010</code></p><p>D. <code>01111100011111001111101</code></p></div><div class="hint-container tip"><p class="hint-container-title">解析</p><p>高级数据链路控制协议 (High-level Data Link Control, HDLC) 采用帧首部和帧尾部中的标志字段作为帧定界符，其值为 <code>01111110</code>。</p><p>HDLC 为了实现“透明传输”，采用“零比特填充法”，即<strong>每五个连续的比特 1 后面插入一个比特 0</strong>。</p><p>因此答案为 A 。</p></div><p>并不是每一种数据链路层协议的帧都包含有帧定界标志。以太网的数据链路层协议没有采用字符填充法或比特填充法来实现透明传输。实际上，以太网的数据链路层封装好以太网帧后，将其交付给物理层。物理层还会在以太网前添加 8 字节的前导码，包含前同步码（前 7 个字节）和帧开始符（后 1 个字节），尾部没有帧结束符。</p><img src="/blog/assets/%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%B8%A7%E7%9A%84%E5%89%8D%E5%AF%BC%E7%A0%81-EB3n0sM_.png" alt="以太网帧的前导码" width="750" style="display:block;margin:auto;"><p>另外，以太网规定帧间间隔时间为 96 比特的发送时间。</p><img src="/blog/assets/%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%B8%A7%E7%9A%84%E5%B8%A7%E9%97%B4%E9%97%B4%E9%9A%94-Cdg1gXN7.png" alt="以太网帧的帧间间隔" width="750" style="display:block;margin:auto;"><h2 id="_3-2-2-差错检测" tabindex="-1"><a class="header-anchor" href="#_3-2-2-差错检测"><span><strong>3.2.2 差错检测</strong></span></a></h2><p>实际的通信链路会产生失真，导致比特在传输过程中产生差错。误码率 (Bit Error Rate, BER) 是衡量链路质量的指标。为了检测帧在传输过程中是否出现误码，需要采用差错检测措施。发送方的数据链路层根据帧的内容计算出检错码，填入帧尾部的帧检验序列（Frame Check Sequence, FCS）。接收方的数据链路层从帧尾部取出检错码，采用与发送方相同的检错技术，检测出帧在传输过程中是否出现了误码。</p><p>常用的检错技术如下。</p><h3 id="_1-奇偶检验" tabindex="-1"><a class="header-anchor" href="#_1-奇偶检验"><span>1. 奇偶检验</span></a></h3><p><strong>奇偶校验</strong>：在待发送的数据后面添加 1 个校验位，使整个数据（包括所添加的校验位在内）中 “1” 的个数为奇数（奇校验）或偶数（偶校验）。</p><p>奇偶校验可以检测出奇数个位的误码，但无法检测出偶数个位的误码，也就是漏检。如下面的例子所示：</p><img src="/blog/assets/%E5%A5%87%E6%A0%A1%E9%AA%8C-m0o81_8g.png" alt="奇校验" width="750" style="display:block;margin:auto;"><img src="/blog/assets/%E5%81%B6%E6%A0%A1%E9%AA%8C-BjD36RZ4.png" alt="偶校验" width="750" style="display:block;margin:auto;"><h3 id="_2-循环冗余检验" tabindex="-1"><a class="header-anchor" href="#_2-循环冗余检验"><span>2. 循环冗余检验</span></a></h3><p><strong>循环冗余校验 (Cyclic Redundancy Check, CRC)</strong>：收发双方约定好一个生成多项式 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>。发送方基于待发送的数据和生成多项式 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>，计算出差错检测码，即冗余码，将冗余码添加到待发送数据的后面一起传输。接收方收到数据和冗余码后，通过生成多项式 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span> 来计算收到的数据和冗余码是否产生了误码。具体步骤如下：</p><ul><li><p><strong>发送方使用 CRC 的操作</strong>：采用二进制模 2 除法来计算余数，余数就是所计算出的冗余码。</p><p><img src="/blog/assets/%E5%8F%91%E9%80%81%E6%96%B9%E4%BD%BF%E7%94%A8CRC%E7%9A%84%E6%93%8D%E4%BD%9C-DbxcOv_H.png" alt="image.png"></p></li><li><p><strong>接收方使用 CRC 的操作</strong>：采用二进制模 2 除法来计算余数，如果余数为 0，就可判定数据和冗余码中未出现误码；如果余数不为 0，则可判定数据或冗余码中出现了误码。</p><img src="/blog/assets/%E6%8E%A5%E6%94%B6%E6%96%B9%E4%BD%BF%E7%94%A8CRC%E7%9A%84%E6%93%8D%E4%BD%9C-Dpl-8uhp.png" alt="接收方使用CRC的操作" width="750" style="display:block;margin:auto;"></li></ul><p>常用的生成多项式 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span> 有：CRC-16、CRC-CCITT 和 CRC-32。循环冗余校验码是检错码，而不是纠错码。</p><h2 id="_3-2-3-可靠传输" tabindex="-1"><a class="header-anchor" href="#_3-2-3-可靠传输"><span><strong>3.2.3 可靠传输</strong></span></a></h2><h3 id="_1-可靠传输的相关基本概念" tabindex="-1"><a class="header-anchor" href="#_1-可靠传输的相关基本概念"><span>1. <strong>可靠传输的相关基本概念</strong></span></a></h3><p>使用差错检测技术，接收方可以检测出帧在传输过程中是否产生了误码。取决于数据链路层提供的服务类型，对检测出的误码有不同的处理方式。如果数据链路层提供的是不可靠传输服务，则丢弃有误码的帧即可；如果提供的是可靠传输服务，则需要通过某种机制实现发送方发送什么，接收方就能收到什么。可靠传输的实现比较复杂，开销也比较大，是否需要可靠传输服务取决于应用需求。</p><p>在 TCP/IP 四层体系结构中，各层提供的可靠或不可靠传输服务的情况如图所示。</p><img src="/blog/assets/TCPIP%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E4%B8%AD%E7%9A%84%E4%B8%8D%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E5%92%8C%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E6%9C%8D%E5%8A%A1-DgDTf1sn.png" alt="TCPIP体系结构中的不可靠传输和可靠传输服务" width="750" style="display:block;margin:auto;"><ul><li>网络接口层：如果使用信道易受干扰的 802.11 无线局域网，那么其数据链路层必须实现可靠传输；如果使用信道质量好的以太网，那么其数据链路层不要求实现可靠传输。</li><li>网际层：IP 向其上层提供的是无连接、不可靠传输服务。</li><li>运输层：TCP 向其上层提供的是面向连接的可靠传输服务，而 UDP 向其上层提供的是无连接、不可靠传输服务。</li></ul><p>实现可靠传输的三种机制：</p><ul><li>停止 - 等待协议</li><li>回退 N 帧协议</li><li>选择重传协议</li></ul><h3 id="_2-停止-等待协议" tabindex="-1"><a class="header-anchor" href="#_2-停止-等待协议"><span>2. 停止 - 等待协议</span></a></h3><h4 id="_1-停止-等待协议的实现原理" tabindex="-1"><a class="header-anchor" href="#_1-停止-等待协议的实现原理"><span>1) 停止 - 等待协议的实现原理</span></a></h4><p><strong>停止 - 等待协议</strong>：发送方每发送完一个数据分组就必须停下来，等待接收方发来的确认（ACK）或否认（NAK）分组。如果接收方收到没有误码的数据分组，就发送 ACK 分组；如果存在误码，就丢弃该数据分组，并发送 NAK 分组。发送方收到 NAK 分组后就会重传出现误码的这个数据分组。 <img src="/blog/assets/%E7%A1%AE%E8%AE%A4%E3%80%81%E5%90%A6%E8%AE%A4%E5%92%8C%E9%87%8D%E4%BC%A0-LhKhF5zO.png" alt="确认、否认和重传" width="750" style="display:block;margin:auto;"></p><p>仅有确认、否认和重传机制的停止 - 等待协议无法实现可靠传输。例如，当出现<strong>数据分组丢失</strong>的情况时，发送方将不可能收到接收方的确认分组或否认分组。因此，发送方在每发送完一个数据分组时，应启动一个超时计时器。</p><p>若到了超时重传时间（RTO）但发送方仍未收到接收方的 ACK 分组或 NAK 分组，就重传之前已发送过的这个数据分组。RTO 应设置为略大于收发双方的平均往返时间 RTT。</p><img src="/blog/assets/%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0-BMVHZFyZ.png" alt="超时重传" width="750" style="display:block;margin:auto;"><p>在给停止 - 等待协议补充<strong>超时重传机制</strong>后，就可以<strong>不使用否认机制</strong>了。然而，使用<strong>否认机制也有其好处</strong>：使发送发在计时器超时前就<strong>尽快重传</strong>。</p><p>有了确认、否认、重传和超时重传机制的停止 - 等待协议仍然不能完全实现可靠传输。例如，当<strong>确认分组丢失</strong>时，接收方会收到两个相同的数据分组。如果接收方不能识别出所接收的数据分组与前一次接收的数据分组是重复的，则会导致分组重复这种传输差错。为了解决该问题，发送方必须给每个数据分组带上不同的<strong>序号</strong>，每发送一个新的数据分组就把它的序号加 1，以便接收方识别重复的分组。</p><img src="/blog/assets/%E7%A1%AE%E8%AE%A4%E4%B8%A2%E5%A4%B1-D0pNr869.png" alt="确认丢失" width="750" style="display:block;margin:auto;"><p>对于停止 - 等待协议，使用 1 个比特编号就足够了，即可用序号有 0 和 1 这两个。</p><p>既然数据分组需要编序号，那么确认分组是否需要编序号呢？</p><p>下图给出了<strong>确认分组迟到</strong>的情况：为了使发送方能够判断收到的确认分组是否重复，应当给确认分组编序号。发送方收到重复的确认分组后，将其丢弃即可。</p><img src="/blog/assets/%E7%A1%AE%E8%AE%A4%E8%BF%9F%E5%88%B0-CndaEqua.png" alt="确认迟到" width="750" style="display:block;margin:auto;"><p>对于数据链路层，由于其点对点的往返时间 RTT 比较固定，一般不会出现确认分组迟到的情况，因此在数据链路层实现停止 - 等待协议时可以不对确认分组编序号。</p><h4 id="_2-停止等待协议的信道利用率" tabindex="-1"><a class="header-anchor" href="#_2-停止等待协议的信道利用率"><span>2) 停止等待协议的信道利用率</span></a></h4><p>为了简化起见，假设收发双方之间通过一条直连链路传送分组。发送方发送数据分组产生的发送时延为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">T_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，数据分组正确到达接收方，接收方对数据分组的处理时间可忽略不计，立即给发送方发送确认分组，接收方发送确认分组产生的发送时延为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>A</mi></msub></mrow><annotation encoding="application/x-tex">T_A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，发送方对确认分组的处理时间也可忽略不计，收发双方之间的往返时间为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">RTT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span>。</p><img src="/blog/assets/%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%BF%A1%E9%81%93%E5%88%A9%E7%94%A8%E7%8E%87-DFTmzxDK.png" alt="停止等待协议的信道利用率" width="750" style="display:block;margin:auto;"><p>因此，发送方在经过时间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>T</mi><mi>D</mi></msub><mo>+</mo><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><msub><mi>T</mi><mi>A</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(T_D + RTT + T_A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 后，就可以发送下一个新的数据分组。由于仅仅是在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">T_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 内才用来发送数据分组，因此停止一等待协议的信道利用率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span> 的计算公式如下所示：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>U</mi><mo>=</mo><mfrac><msub><mi>T</mi><mi>D</mi></msub><mrow><msub><mi>T</mi><mi>D</mi></msub><mo>+</mo><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><msub><mi>T</mi><mi>A</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">U = \frac{T_D}{T_D + RTT + T_A} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1963em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><div class="hint-container question"><p class="hint-container-title">2018 年 题 36</p><p>主机甲采用停 - 等协议向主机乙发送数据，数据传输速率是 3kbps，单向传播延时是 200ms，忽略确认帧的传输延时。当信道利用率等于 40% 时，数据帧的长度为 ()。</p><p>A. 240 比特</p><p>B. 400 比特</p><p>C. 480 比特</p><p>D. 800 比特</p></div><div class="hint-container tip"><p class="hint-container-title">解析</p><p>由于</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>信道利用率</mtext><mo>=</mo><mfrac><mtext>数据帧的发送时延</mtext><mrow><mtext>数据帧的发送时延</mtext><mo>+</mo><mtext>单程传播时延</mtext><mo>×</mo><mn>2</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{信道利用率} = \frac{\text{数据帧的发送时延}}{\text{数据帧的发送时延} + \text{单程传播时延} \times 2} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">信道利用率</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">数据帧的发送时延</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord cjk_fallback">单程传播时延</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">数据帧的发送时延</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>代入数据，得到：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>40</mn><mi mathvariant="normal">%</mi><mo>=</mo><mfrac><mfrac><mrow><mi>x</mi><mtext> b</mtext></mrow><mrow><mn>3000</mn><mtext> b/s</mtext></mrow></mfrac><mrow><mfrac><mrow><mi>x</mi><mtext> b</mtext></mrow><mrow><mn>3000</mn><mtext> b/s</mtext></mrow></mfrac><mo>+</mo><mn>200</mn><mtext> ms</mtext><mo>×</mo><mn>2</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">40\% = \frac{\frac{x \text{ b}}{3000 \text{ b/s}}}{\frac{x \text{ b}}{3000 \text{ b/s}} + 200\text{ ms} \times 2} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">40%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.0802em;vertical-align:-1.2901em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7901em;"><span style="top:-2.2299em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3000</span><span class="mord text mtight"><span class="mord mtight"> b/s</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mord text mtight"><span class="mord mtight"> b</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">200</span><span class="mord text"><span class="mord"> ms</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3000</span><span class="mord text mtight"><span class="mord mtight"> b/s</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mord text mtight"><span class="mord mtight"> b</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2901em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>解得 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mn>800</mn><mtext> b</mtext></mrow><annotation encoding="application/x-tex">x = 800 \text{ b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">800</span><span class="mord text"><span class="mord"> b</span></span></span></span></span>。因此，数据帧的长度为 800 比特。</p></div><h4 id="_3-回退-n-帧协议" tabindex="-1"><a class="header-anchor" href="#_3-回退-n-帧协议"><span><strong>3. 回退 N 帧协议</strong></span></a></h4><p><strong>回退 N 帧协议</strong>：采用流水线传输方式，并利用发送窗口来限制发送方连续发送数据分组的数量，属于连续 ARQ 协议。 <img src="/blog/assets/%E6%B5%81%E6%B0%B4%E7%BA%BF%E4%BC%A0%E8%BE%93-b06cPNQt.png" alt="流水线传输" width="750" style="display:block;margin:auto;"></p><p><strong>发送窗口和接收窗口</strong>：发送方需要维护一个发送窗口，在未收到接收方确认分组的情况下，发送方可将序号落入发送窗口内的所有数据分组连续发送出去。接收方需要维护一个接收窗口，只有正确到达接收方且序号落入接收窗口内的数据分组才被接收方接收。 <img src="/blog/assets/%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%8F%91%E9%80%81%E7%AA%97%E5%8F%A3%E5%92%8C%E6%8E%A5%E6%94%B6%E7%AA%97%E5%8F%A3-Cjpq9iP5.png" alt="回退N帧协议的发送窗口和接收窗口" width="750" style="display:block;margin:auto;"></p><p>发送窗口和接受窗口的滑动情况如下：</p><ul><li>接收方每正确收到一个序号落入接收窗口的数据分组，就将接收窗口向前滑动一个位置，这样就有一个新的序号落入接收窗口。与此同时，接收方还要给发送方发送针对该数据分组的确认分组。</li><li>发送方每收到一个按序确认的确认分组，就将发送窗口向前滑动一个位置，这样就有一个新的序号落入发送窗口，序号落入发送窗口内的数据分组可继续被发送。</li></ul><p>在回退 N 帧协议的工作过程中，发送方的发送窗口和接收方的接收窗口按上述规则不断向前滑动。因此，这类协议又称为滑动窗口协议。</p><p>下面通过几个例子来说明回退 N 帧协议的工作过程。</p><p><strong>回退 N 帧协议的工作过程举例 1 （正常情况）：</strong><img src="/blog/assets/%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B%E4%B8%BE%E4%BE%8B1%EF%BC%88%E6%AD%A3%E5%B8%B8%E6%83%85%E5%86%B5%EF%BC%89-RW_2l_m2.gif" alt="回退N帧协议的工作过程举例1（正常情况）" width="750" style="display:block;margin:auto;"></p><ol><li>发送方将序号落入发送窗口内的 0 ~ 4 号数据分组连续发送出去。</li><li>0 ~ 4 号数据分组按序正确到达接收方。</li><li>接收方按序接收 0 ~ 4 号数据分组。每接收到一个数据分组，接收窗口就向前滑动一个位置，并且给发送方发送相应的确认分组。接收窗口当前滑动到序号 5，接收方给发送方发送了 0 ~ 4 号确认分组。</li><li>0 ~ 4 号确认分组按序正确到达发送方。</li><li>发送方按序接收 0 ~ 4 号确认分组。每接收到一个确认分组，发送窗口就向前滑动一个位置，这样就有新的序号 5 ~ 1 落入发送窗口中。</li></ol><p>发送方应将发送缓存中已收到确认的数据分组的副本删除，而接收方应当从接收缓存中尽快取走已正确接收的数据分组。</p><p>在无传输差错的情况下，回退 N 帧协议的信道利用率比停止 - 等待协议的信道利用率有显著提高。提高的程度取决于发送窗口的大小。</p><p><strong>回退 N 帧协议的工作过程举例 2（超时重传，回退 N 帧）：</strong><img src="/blog/assets/%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B%E4%B8%BE%E4%BE%8B2%EF%BC%88%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%EF%BC%8C%E5%9B%9E%E9%80%80N%E5%B8%A7%EF%BC%89-BWq5XgUk.gif" alt="回退N帧协议的工作过程举例2（超时重传，回退N帧）" width="750" style="display:block;margin:auto;"></p><ol><li>发送方将序号落入发送窗口内的 0~4 号数据分组连续发送出去，其中 2 号数据分组在传输过程中出现误码。接收方按序接收 0~1 号数据分组并给发送方发送 0~1 号确认分组，接收窗口向前滑动两个位置，序号 2 落入接收窗口内。</li><li>接收方通过 2 号数据分组中的检错码，检测出了 2 号数据分组中有误码，因此将其丢弃。发送方收到接收方发来的 0~1 号数据分组后，将发送窗口向前滑动两个位置，这样就有新的序号 5~6 落入发送窗口中。</li><li>接收方丢弃序号未落入接收窗口内的 3~4 号数据分组，并给发送方发送针对最近已按序接收的 1 号数据分组的确认分组，即 1 号确认分组。发送方将序号落入发送窗口内的 5~6 号数据分组发送出去。</li><li>发送方收到针对 1 号数据分组的 2 个重复确认，忽略即可。接收方收到序号未落入接收窗口内的 5~6 号数据分组，将其丢弃，并给发送方发送针对最近已按序接收的 1 号数据分组的确认分组，即 1 号确认分组。</li><li>发送方收到针对 1 号数据分组的 2 个重复确认，忽略即可。已发送的 2 号数据分组出现了超时，于是发送方将序号落入发送窗口内的、超时的 2 号数据分组和其后已发送的 3~6 号数据分组全部重传。尽管 3~6 号数据分组并未出现误码，但是接收方只能接收按序到达的数据分组，因此一旦 2 号数据分组出现差错，其后连续发送的 3~6 号数据分组都要被重传。这就是回退 N 帧协议名称的由来，即一旦出错就需要退回去重传已发送过的 N 个数据分组。</li></ol><p>一个数据分组的差错就可能引起大量数据分组的重传。在信道质量较差（容易出现误码）的情况下，回退 N 帧协议的信道利用率并不比停止 - 等待协议的信道利用率高。</p><p>回退 N 帧协议的接收方采用<strong>累积确认</strong>的方式。</p><ul><li>接收方对序号为 n 的数据分组的确认，就表明接收方已正确接收序号到 n 为止的所有数据分组。</li><li>接收方不必对收到的每一个数据分组都发送一个相应的确认分组，而是可以在收到几个序号连续的数据分组后，对按序到达的最后一个数据分组发送确认分组。</li><li>接收方何时发送累积确认分组，由具体实现决定。</li></ul><p><strong>回退 N 帧协议的工作过程举例 3（累积确认）：</strong><img src="/blog/assets/%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B%E4%B8%BE%E4%BE%8B3%EF%BC%88%E7%B4%AF%E7%A7%AF%E7%A1%AE%E8%AE%A4%EF%BC%89-DZ1R2yRp.gif" alt="回退N帧协议的工作过程举例3（累积确认）" width="750" style="display:block;margin:auto;"></p><ol><li>发送方将序号落入发送窗口内的 0~4 号数据分组连续发送给接收方。</li><li>接收方按序正确接收 0 号和 1 号数据分组，并给发送方发送累积确认，确认号为 1，表明已正确接收序号到 1 为止的所有数据分组。接收方将接收窗口向前滑动两个位置，序号 2 落入接收窗口内。</li><li>接收方按序正确接收 2~4 号数据分组，并给发送方发送累积确认，确认号为 4，表明已正确接收序号到 4 为止的所有数据分组。接收方将接收窗口向前滑动，序号 5 落入接收窗口内。</li><li>1 号累积确认分组在传输过程中丢失了，而 4 号累积确认分组正确到达发送方。</li><li>发送方收到 4 号累积确认分组后，将发送窗口向前滑动 5 个位置，这样就使得已获得累积确认的 0~4 号数据分组的序号移出了发送窗口，而新序号 5~1 落入了发送窗口。</li></ol><p>由该例可以看出，</p><ul><li>累积确认的优点： <ul><li>减少向网络中注入确认分组的数量。</li><li>即使确认分组丢失，也可能不必重传数据分组。</li></ul></li><li>累积确认的缺点： <ul><li>不能向发送方及时准确地反映出接收方已正确接收的所有数据分组的数量。</li></ul></li></ul><p>下面简单介绍一下回退 N 帧协议的发送窗口尺寸 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">{W}_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和接收窗口尺寸 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">{W}_{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 。</p><p>回退 N 帧协议规定：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub><mo>≤</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">{W}_R = 1, 1 &lt; {W}_T \leq {2}^{n} - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord"><span class="mord">2</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 。其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 是用来给数据分组编序号的比特数量。如果从滑动窗口协议的角度来看停止一等待协议，其 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">{W}_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">{W}_{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的取值都固定为 1 。对于回退 N 帧协议，其 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">{W}_{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 与停止 - 等待协议的相同 (都为 1 )，但其 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">{W}_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 应该大于 1 且不能超过其范围上限，否则可能会造成接收方无法分辨新、旧数据分组的情况，下面举例说明这种情况。</p><p><strong>回退 N 帧协议的工作过程举例 4 （发送窗口尺寸超越其上限）</strong>：</p><p>假设采用 3 个比特给数据分组编序号，则有 0~7 共 8 个序号可供循环重复使用。 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">{W}_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的最大值为 7 （即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>2</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">{2}^{2} - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord"><span class="mord">2</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>），若令 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">{W}_{T} = 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> 来超越其范围上限，思考出现怎样的情况。</p><img src="/blog/assets/%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B%E4%B8%BE%E4%BE%8B4%EF%BC%88%E5%8F%91%E9%80%81%E7%AA%97%E5%8F%A3%E5%B0%BA%E5%AF%B8%E8%B6%85%E8%B6%8A%E5%85%B6%E4%B8%8A%E9%99%90%EF%BC%89-DKJOjOh9.gif" alt="回退N帧协议的工作过程举例4（发送窗口尺寸超越其上限）" width="750" style="display:block;margin:auto;"><ol><li>发送方将序号落入发送窗口内的 0~7 号数据分组，并连续发送给接收方。</li><li>接收方按序正确接收 0~7 号数据分组，并向发送方发送累积确认，确认号为 7，表明已正确接收序号到 7 为止的所有数据分组。接收方将接收窗口向前滑动 8 个位置，序号 0 落入接收窗口内。</li><li>累积确认分组在传输过程中丢失。</li><li>已发送的 0 号数据分组出现超时，发送方将序号落入发送窗口内的、超时的 0 号数据分组及其后已发送的 1~7 号数据分组全部重传。</li><li>发送方重传的 0~7 号数据分组按序正确到达接收方，但此时接收方并不知道这 8 个数据分组之前就已经被正确接收过了，因此还会接收这些数据分组，这就造成了分组重复的传输差错。</li></ol><div class="hint-container question"><p class="hint-container-title">2009 年题 35</p><p>在数据链路层使用后退 N 帧 (GBN) 协议的情况下，发送方已经发送了编号为 0~7 的帧。当计时器超时时，如果发送方只收到了 0、2、3 号帧的确认，那么发送方需要重发的帧数是多少？</p><p>A. 2</p><p>B. 3</p><p>C. 4</p><p>D. 5</p></div><div class="hint-container tip"><p class="hint-container-title">解析</p><p>在回退 N 帧协议中，发送方在超时前没有收到部分帧的确认，发送方会重新发送所有未被确认的帧，从丢失的第一帧开始。由题意可知：</p><ul><li>编号为 0、1、2、3 的帧已经确认，无需重新发送。</li><li>编号为 4、5、6、7 的帧未收到确认，需要重新发送。 因此，未确认的帧编号为：4、5、6、7（共 4 个帧）。</li></ul></div><div class="hint-container question"><p class="hint-container-title">2014 年题 36</p><p>主机甲与主机乙之间使用后退 N 帧（GBN）协议传输数据，甲的发送窗口尺寸为 1000，数据帧长为 1000 字节，信道带宽为 100Mbps，乙每收到一个数据帧就立即利用一个短帧（忽略其传输延迟）进行确认，若甲乙之间的单向传播延迟是 50ms，则甲可以达到的最大平均数据传输速率约为 ()。</p><p>A. 10Mbps</p><p>B. 20Mbps</p><p>C. 80Mbps</p><p>D. 100Mbps</p></div><div class="hint-container tip"><p class="hint-container-title">解析</p><p>单个数据帧的传输时间为：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>T</mi><mtext>传输</mtext></msub><mo>=</mo><mfrac><mtext>数据帧长度</mtext><mtext>信道带宽</mtext></mfrac><mo>=</mo><mfrac><mrow><mn>8000</mn><mtext> b</mtext></mrow><mrow><mn>100</mn><mo>×</mo><msup><mn>10</mn><mn>6</mn></msup><mtext>b/s</mtext></mrow></mfrac><mo>=</mo><mn>8</mn><mo>×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>5</mn></mrow></msup><mtext> s</mtext></mrow><annotation encoding="application/x-tex">T_{\text{传输}} = \frac{\text{数据帧长度}}{\text{信道带宽}} = \frac{8000 \text{ b}}{100 \times 10^6 \text{b/s}} = 8 \times 10^{-5} \text{ s} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">传输</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">信道带宽</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">数据帧长度</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3074em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">100</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mord text"><span class="mord">b/s</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8000</span><span class="mord text"><span class="mord"> b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord"> s</span></span></span></span></span></span></p><p>单向传播延迟为 50 ms，因此往返时间（RTT）为：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>RTT</mtext><mo>=</mo><mn>2</mn><mo>×</mo><mn>50</mn><mtext> ms</mtext><mo>=</mo><mn>0.1</mn><mtext> s</mtext></mrow><annotation encoding="application/x-tex">\text{RTT} = 2 \times 50 \text{ ms} = 0.1 \text{ s} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">RTT</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">50</span><span class="mord text"><span class="mord"> ms</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.1</span><span class="mord text"><span class="mord"> s</span></span></span></span></span></span></p><p>因此，最大平均数据传输速率为：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>最大平均传输速率</mtext><mo>=</mo><mfrac><mtext>窗口内总数据量</mtext><mrow><msub><mi>T</mi><mtext>传输</mtext></msub><mo>+</mo><mtext>RTT</mtext></mrow></mfrac><mo>=</mo><mfrac><mrow><mn>1000</mn><mo>×</mo><mn>8000</mn><mtext> b</mtext></mrow><mrow><mn>8</mn><mo>×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>5</mn></mrow></msup><mtext> s</mtext><mo>+</mo><mn>0.1</mn><mtext> s</mtext></mrow></mfrac><mo>≈</mo><mn>80</mn><mtext> Mbps</mtext></mrow><annotation encoding="application/x-tex">\text{最大平均传输速率} = \frac{\text{窗口内总数据量}}{T_{\text{传输}}+\text{RTT}} = \frac{1000 \times 8000 \text{ b}}{8 \times 10^{-5} \text{ s} + 0.1 \text{ s}} \approx 80 \text{ Mbps} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">最大平均传输速率</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1963em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">传输</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">RTT</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">窗口内总数据量</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1408em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord"> s</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0.1</span><span class="mord text"><span class="mord"> s</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1000</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">8000</span><span class="mord text"><span class="mord"> b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">80</span><span class="mord text"><span class="mord"> Mbps</span></span></span></span></span></span></p></div><h3 id="_4-选择重传协议" tabindex="-1"><a class="header-anchor" href="#_4-选择重传协议"><span><strong>4. 选择重传协议</strong></span></a></h3><p><strong>选择重传协议</strong>：为了进一步提高信道利用率，只重传出现差错的数据分组，接收窗口的尺寸大于 1，以便先收下失序但正确到达接收方且序号落入接收窗口内的数据分组，等到所缺数据分组收齐后再一并送交上层。</p><p><strong>为了使发送方仅重传出现差错的数据分组，接收方不能再采用累积确认</strong>，而需要对每一个正确接收的数据分组进行逐一确认。显然，选择重传协议比回退 N 帧协议复杂，并且接收方需要有足够的缓存空间，来暂存失序但正确到达接收方且序号落入接收窗口内的数据分组。</p><p>选择重传协议的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 都大于 1。若采用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 个比特给数据分组编序号，为了保证接收方的接收窗口向前移动后，接收窗口内的新序号与之前的旧序号没有重叠（也就是不会造成接收方无法分辨新、旧数据分组的情况），需要满足条件：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>+</mo><msub><mi>W</mi><mi>R</mi></msub><mo>≤</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">W_T + W_R \le 2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span>。另外，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 不应超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> （否则没有意义），因此 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 不应超过序号范围的一半，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>≤</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">W_R \le 2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>。当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 取其最大值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 能取到的最大值也只能为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>。一般情况下，在选择重传协议中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是相同的。</p><p>下面说明选择重传协议的工作过程。假设采用 3 个比特给数据分组编序号，则有 0~7 共 8 个序号可供循环重复使用。 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 取其最大值 4 ，则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的最大值也只能取为 4。</p><img src="/blog/assets/%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B%E4%B8%BE%E4%BE%8B-VUw8MgZD.gif" alt="选择重传协议的工作过程举例" width="750" style="display:block;margin:auto;"><ol><li>发送方将序号落入发送窗口内的 0~3 号数据分组连续发送给接收方。其中 0 号数据分组在传输过程中出现误码，接收方将其丢弃。</li><li>接收方将失序但正确到达接收方且序号落入接收窗口内的 1~3 号数据分组进行缓存，并给发送方发送相应的 1~3 号确认分组。缓存的 1~3 号数据分组暂时不能交付给上层。由于还未收到序号落入接收窗口内的 0 号数据分组，因此接收窗口不能向前滑动。</li><li>发送方收到失序的 1~3 号确认分组后并不能向前滑动发送窗口，但要记录 1~3 号数据分组已被确认，因此只有 0 号数据分组被超时重传。0 号数据分组正确到达接收方。</li><li>接收方正确接收序号落入接收窗口内的 0 号数据分组，并给发送方发送 0 号确认分组，0 号确认分组正确到达发送方。接收方将接收窗口向前滑动 4 个位置，序号 4~7 落入接收窗口内。</li><li>发送方收到期盼已久的 0 号确认分组后，将发送窗口向前滑动 4 个位置，序号 4~7 落入发送窗口内。现在，接收方可以接收序号落入接收窗口内的 4~7 号数据分组，而发送方可以将序号落入发送窗口内的 4~7 号数据分组连续发送出去。</li></ol><div class="hint-container question"><p class="hint-container-title">2011 年 题 35</p><p>数据链路层采用选择重传协议 (SR) 传输数据，发送方已发送了 0~3 号数据帧，现已收到 1 号帧的确认，而 0、2 号帧依次超时，则此时需要重传的帧数是 ()。</p><p>A. 1</p><p>B. 2</p><p>C. 3</p><p>D. 4</p></div><div class="hint-container tip"><p class="hint-container-title">解析</p><p>与回退 N 帧协议不同，选择重传协议不采用累积确认，接收方需要对每一个正确接收的数据分组进行逐一确认。</p><p>发送方仅重传未收到确认而超时的数据帧，因此重传 0 号和 2 号这两个数据帧。</p></div></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-a752cb74 data-v-3b1a1da3><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-3b1a1da3><span class="contributors-label" data-v-3b1a1da3>贡献者: </span><span class="contributors-info" data-v-3b1a1da3><!--[--><!--[--><span class="contributor" data-v-3b1a1da3>dead_summer</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-3b1a1da3><div class="pager" data-v-3b1a1da3><a class="vp-link link pager-link prev" href="/blog/notes/HNUSTComputerNetwork/iqk7fis3/" data-v-3b1a1da3><!--[--><span class="desc" data-v-3b1a1da3>上一页</span><span class="title" data-v-3b1a1da3>1 数据链路层概述</span><!--]--><!----></a></div><div class="pager" data-v-3b1a1da3><a class="vp-link link pager-link next" href="/blog/notes/HNUSTComputerNetwork/qeslqfmv/" data-v-3b1a1da3><!--[--><span class="desc" data-v-3b1a1da3>下一页</span><span class="title" data-v-3b1a1da3>3 点对点协议</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-203c4ba0 data-v-f713c552><span class="percent" data-allow-mismatch data-v-f713c552>0%</span><span class="show icon vpi-back-to-top" data-v-f713c552></span><svg aria-hidden="true" data-v-f713c552><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-f713c552></circle></svg></button><footer class="vp-footer has-sidebar" vp-footer data-v-203c4ba0 data-v-b4deef1b><!--[--><div class="container" data-v-b4deef1b><p class="message" data-v-b4deef1b>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/blog/assets/app-CAzY0Upz.js" defer></script></body></html>