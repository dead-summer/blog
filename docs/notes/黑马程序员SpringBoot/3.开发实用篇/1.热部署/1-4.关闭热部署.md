---
title: 1-4.关闭热部署
createTime: 2025/06/23 17:29:34
permalink: /notes/HMSpringBoot/47q5p832/
---
在线上环境中，热部署功能是不需要的，因此需要将其关闭以降低资源消耗。

## 1. 通过配置关闭热部署

可以通过在 `application.yml` 或 `application.properties` 文件中进行配置来关闭热部署功能：

```yaml
spring:
  devtools:
    restart:
      enabled: false
```

## 2. 通过系统属性关闭热部署

如果担心由于配置文件层级过多导致配置被覆盖，可以在更高层级中配置关闭热部署。 例如，可以在启动容器前通过设置系统属性来关闭热部署功能。

```java
@SpringBootApplication
public class SSMPApplication {
    public static void main(String[] args) {
        System.setProperty("spring.devtools.restart.enabled","false");
        SpringApplication.run(SSMPApplication.class);
    }
}
```

这段代码在 Spring Boot 应用程序启动前，通过 `System.setProperty()` 方法设置 `spring.devtools.restart.enabled` 属性为 `false`，从而禁用热部署功能。 这样做可以确保即使在其他配置文件中存在与热部署相关的配置，该设置也会生效，因为系统属性的优先级通常高于配置文件。

在线上环境中关闭热部署功能的主要目的是降低资源消耗。 虽然线上环境通常不会进行代码修改，但禁用热部署功能可以避免程序持续监测代码变化，从而节省系统资源。 关闭热部署的方法包括通过配置文件和系统属性进行设置。
