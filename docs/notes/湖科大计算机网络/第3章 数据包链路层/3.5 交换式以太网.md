---
title: 5 交换式以太网
createTime: 2025/06/14 12:49:33
permalink: /notes/HNUSTComputerNetwork/em2c7oi1/
---
交换式以太网是通过以太网交换机（Switch）互连计算机或网络设备而形成的局域网。 以太网交换机工作在数据链路层。

## 3.5.1 以太网交换机

以太网交换机可以连接计算机、集线器或其他的交换机。

*   **工作方式：**
    *   **全双工模式：** 当交换机接口直接连接计算机或交换机时，通常工作在全双工模式，允许多对接口同时通信，无碰撞，无需使用 CSMA/CD 协议。
    *   **半双工模式：** 当交换机接口连接共享介质的集线器时，只能工作在半双工模式，需要使用 CSMA/CD 协议。
    现在的交换机和网卡可以自动识别并切换工作方式。
*   **接口速率：**
    交换机通常支持多种速率的接口，如 10Mb/s、100Mb/s、1Gb/s 甚至 10Gb/s，并且具有多速率自适应功能。
*   **本质：**
    交换机本质上是多接口的网桥，即插即用，通过自学习算法建立转发表，并使用生成树协议避免环路。
*   **交换方式：**
    *   **存储转发：** 交换机先接收并存储整个帧，然后根据目的 MAC 地址进行转发。
    *   **直通交换 (Cut-Through)：** 交换机在接收帧的同时，根据目的 MAC 地址立即决定转发接口并转发。 优点是时延小，缺点是不检查错误，可能转发无效帧。

## 3.5.2 共享式以太网与交换式以太网的对比

以下对比展示了使用集线器的共享式以太网和使用交换机的交换式以太网的区别，假设交换机已经通过自学习算法建立了完整的转发表。

### 1. 主机发送单播帧的情况

*   **共享式以太网（集线器）：** 单播帧通过集线器传播到网络中的所有主机，主机网卡根据目的 MAC 地址决定是否接收。
*   **交换式以太网（交换机）：** 交换机根据帧的目的 MAC 地址和转发表，将帧直接转发给目的主机，而不是所有主机。
![[3.5 交换式以太网_附件/主机发送单播帧的情况.png]]

### 2. 主机发送广播帧的情况

*   **共享式以太网（集线器）：** 广播帧通过集线器传播到网络中的所有主机，所有主机网卡接收该帧。
*   **交换式以太网（交换机）：** 交换机收到广播帧后，会从除接收接口外的所有其他接口转发该帧，所有主机接收该帧。

![[3.5 交换式以太网_附件/主机发送广播帧的情况.png]]

从本例可以看出，无论是使用集线器的共享式以太网，还是使用交换机的交换式以太网，所有主机都属于同一个广播域。

### 3. 多对主机间同时通信的情况

*   **共享式以太网（集线器）：** 多对主机同时通信时，会产生碰撞，碰撞帧会传播到网络中的所有主机。
*   **交换式以太网（交换机）：** 交换机采用存储转发机制，并能实现多对接口的高速并行交换，因此不会产生碰撞。

![[3.5 交换式以太网_附件/多对主机间同时通信的情况.png]]

**总结：**

* 两个独立的共享式以太网，各自都是一个独立的广播域和一个独立的碰撞域。
* 使用集线器连接两个独立的共享式以太网，会形成一个更大的广播域和碰撞域。
* 使用交换机连接两个独立的共享式以太网，会形成一个更大的广播域，但交换机隔离了原本独立的两个碰撞域。

**结论**：集线器不隔离广播域和碰撞域，而交换机不隔离广播域但隔离碰撞域。

由于交换机使用专用交换结构芯片，可以实现多对接口的高速并行交换，大大提高网络性能。 因此，使用交换机的交换式以太网已经取代了传统的共享式以太网。 只要全部使用交换机来构建以太网，就可以构建出工作在无碰撞的全双工方式的交换式以太网。
