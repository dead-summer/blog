---
title: 生成随机数
createTime: 2025/06/25 19:58:08
permalink: /notes/HMJava/xty92nxt/
---
## 3.1 如何产生一个随机数

在 Java 中，可以使用 `java.util.Random` 类来生成随机数。以下是使用 `Random` 类生成随机数的步骤：

1.  **导包**：首先需要导入 `java.util.Random` 类。
2.  **创建 Random 对象**：创建一个 `Random` 类的实例。
3.  **调用 Random 提供的方法**：调用 `Random` 类提供的 `nextInt()` 方法来生成随机数。`nextInt(n)` 方法会生成一个 0（包含）到 n（不包含）之间的随机整数。

以下代码演示了如何生成 20 个 0 到 9 之间的随机数：

```java
import java.util.Random;

public class RandomDemo1 {
    public static void main(String[] args) {
        // 创建一个 Random 对象，用于生成随机数。
        Random r = new Random();
        // 调用 Random 提供的功能：nextInt 得到随机数。
        for (int i = 1; i <= 20; i++) {
            int data = r.nextInt(10); // 0 - 9
            System.out.println(data);
        }
    }
}
```

**代码解释：**

*   `import java.util.Random;`：这行代码导入了 `Random` 类，使得程序可以使用 `Random` 类提供的功能。
*   `Random r = new Random();`：这行代码创建了一个 `Random` 类的对象 `r`，通过这个对象可以调用 `Random` 类的方法来生成随机数。
*   `int data = r.nextInt(10);`：这行代码调用了 `r` 对象的 `nextInt(10)` 方法，生成一个 0 到 9 之间的随机整数，并将结果赋值给 `data` 变量。

## 3.2 猜数字小游戏

接下来，我们将通过一个猜数字小游戏的案例，综合运用流程控制、跳转语句和随机数等知识。

::: question 需求

随机生成一个 1 到 100 之间的数字，提示用户猜测，如果猜大了提示“过大”，如果猜小了提示“过小”，直到猜中为止，游戏结束。

:::

::: tip 分析

1.  **生成随机数**：使用 `Random` 类生成 1 到 100 之间的随机数作为中奖号码。
2.  **循环猜测**：使用一个死循环，让用户可以一直猜测。
3.  **获取用户输入**：使用 `Scanner` 类获取用户猜测的数字。
4.  **比较大小**：在循环中，将用户输入的数据与随机数进行比较。
    * 如果比随机数大，提示“猜大了”。
    * 如果比随机数小，提示“猜小了”。
    * 如果和随机数相同，提示“恭喜你猜中了”，并结束循环。
:::

以下是实现猜数字小游戏的 Java 代码：

```java
import java.util.Random;
import java.util.Scanner;

public class RandomTest2 {
    public static void main(String[] args) {
        // 1、随机产生一个1-100之间的数据，做为中奖号码。
        Random r = new Random();
        int luckNumber = r.nextInt(100) + 1;

        // 2、定义一个死循环，让用户不断的猜测数据
        Scanner sc = new Scanner(System.in);
        while (true) {
            // 提示用户猜测
            System.out.println("请您输入您猜测的数据：");
            int guessNumber = sc.nextInt();

            // 3、判断用户猜测的数字与幸运号码的大小情况
            if(guessNumber > luckNumber){
                System.out.println("您猜测的数字过大~~");
            }else if(guessNumber < luckNumber){
                System.out.println("您猜测的数字过小~~");
            }else {
                System.out.println("恭喜您，猜测成功了，可以买单了~~");
                break; // 结束死循环
            }
        }
    }
}
```

**代码解释：**

*   `Random r = new Random();`：创建一个 `Random` 对象 `r`，用于生成随机数。
*   `int luckNumber = r.nextInt(100) + 1;`：生成一个 1 到 100 之间的随机整数，作为幸运号码。`nextInt(100)` 生成 0 到 99 的随机数，加 1 后得到 1 到 100 的随机数。
*   `Scanner sc = new Scanner(System.in);`：创建一个 `Scanner` 对象 `sc`，用于接收用户的输入。
*   `while (true)`：定义一个死循环，让用户可以一直猜测。
*   `int guessNumber = sc.nextInt();`：接收用户输入的整数，并赋值给 `guessNumber` 变量。
*   `if(guessNumber > luckNumber)`、`else if(guessNumber < luckNumber)`、`else`：使用 `if-else if-else` 结构判断用户猜测的数字与幸运号码的大小关系，并给出相应的提示。
*   `break;`：当用户猜中数字时，使用 `break` 语句结束死循环，退出游戏。

