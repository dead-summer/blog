---
title: 分支结构
createTime: 2025/06/25 19:37:58
permalink: /notes/HMJava/yh4b9nrr/
---
## 1.1 `if` 分支

`if` 分支用于对条件进行判断，根据条件的结果（`true` 或 `false`）来决定执行哪段代码。

### 1.1.1 `if` 第一种形式

*   **代码格式：**

    ```java
    if (条件表达式) {
        语句体
    }
    ```

*   **执行流程：**

    * 如果条件表达式为 `true`，则执行语句体。
    * 如果条件表达式为 `false`，则不执行语句体。

*   **示例：**

    ```java
    // 需求：测量用户体温，发现体温高于37度就报警。
    double t = 36.9;
    if (t > 37) {
        System.out.println("这个人的温度异常，把他赶紧带走~~");
    }
    ```

    上述代码演示了 `if` 语句的基本用法。如果体温 `t` 大于 37 度，则会输出报警信息。

### 1.1.2 `if` 第二种形式

*   **代码格式：**

    ```java
    if (条件表达式) {
        语句体1
    } else {
        语句体2
    }
    ```

*   **执行流程：**

    * 如果条件表达式为 `true`，则执行语句体 1。
    * 如果条件表达式为 `false`，则执行语句体 2。

*   **示例：**

    ```java
    // 需求2：发红包，你的钱包余额是99元，现在要发出90元
    // 如果钱够触发发红包的动作，如果钱不够，则提示：余额不足。
    double money = 19;
    if (money >= 90) {
        System.out.println("发红包成功了~");
    } else {
        System.out.println("余额不足~~");
    }
    ```

    此代码展示了带有 `else` 的 `if` 语句。如果钱包余额大于等于 90 元，则输出发红包成功的提示，否则提示余额不足。

### 1.1.3 `if` 第三种形式

*   **代码格式：**

    ```java
    if (条件表达式1) {
        语句体1
    } else if (条件表达式2) {
        语句体2
    } else if (条件表达式3) {
        语句体3
    }
    ...
    else {
        语句体n
    }
    ```

*   **执行流程：**

    * 依次判断条件表达式，如果某个条件表达式为 `true`，则执行对应的语句体，然后跳出整个 `if` 结构。
    * 如果所有条件表达式都为 `false`，则执行 `else` 中的语句体。

*   **示例：**

    ```java
    // 需求3：某个公司有一个绩效系统，根据员工的打分输出对应的绩效级别。[0,60) D  [60,80) C [80,90) B [90,100] A
    int score = 298;
    if (score >= 0 && score < 60) {
        System.out.println("您的绩效级别是： D");
    } else if (score >= 60 && score < 80) {
        System.out.println("您的绩效级别是： C");
    } else if (score >= 80 && score < 90) {
        System.out.println("您的绩效级别是： B");
    } else if (score >= 90 && score <= 100) {
        System.out.println("您的绩效级别是： A");
    } else {
        System.out.println("您录入的分数有毛病~~");
    }
    ```

    以上代码展示了多分支 `if` 语句，用于根据员工的分数输出对应的绩效级别。

### 1.1.4 `if` 使用的常见问题

*   `if` 的 `()` 后面不能写分号 `;`，否则 `if` 下面的语句将与 `if` 无关。
*   `if` 后面的大括号，如果只有一行代码，大括号可以省略，但是不建议这样做，会降低代码的可读性。

## 1.2 `switch` 分支

`switch` 分支通过比较值来决定执行哪条分支代码。

### 1.2.1 `switch` 分支的执行流程

*   **代码格式：**

    ```java
    switch (表达式) {
        case 值1:
            语句体1;
            break;
        case 值2:
            语句体2;
            break;
        ...
        default:
            语句体n;
    }
    ```

*   **执行流程：**

    * 计算表达式的值。
    * 从上到下依次比较表达式的值和 `case` 后面的值。
    * 如果找到匹配的值，则执行对应的语句体，直到遇到 `break` 为止。
    * 如果没有找到匹配的值，则执行 `default` 中的语句体。

*   **示例：**

    ```java
    /*
    需求：做个电子备忘录，在控制台分别输出周一到周五的工作安排
        周一：埋头苦干，解决bug            
        周二：	请求大牛程序员帮忙           
        周三：今晚啤酒、龙虾、小烧烤    
        周四：主动帮助新来的女程序解决bug
        周五：今晚吃鸡
        周六：与王婆介绍的小芳相亲
        周日：郁郁寡欢、准备上班。
    */
    String week = "周三";
    switch (week) {
        case "周一":
            System.out.println("埋头苦干，解决bug");
            break;
        case "周二":
            System.out.println("请求大牛程序员帮忙");
            break;
        case "周三":
            System.out.println("今晚啤酒、龙虾、小烧烤");
            break;
        case "周四":
            System.out.println("主动帮助新来的女程序解决bug");
            break;
        case "周五":
            System.out.println("今晚吃鸡");
            break;
        case "周六":
            System.out.println("与王婆介绍的小芳相亲");
            break;
        case "周日":
            System.out.println("郁郁寡欢、准备上班");
            break;
        default:
            System.out.println("您输入的星期信息不存在~~~");
    }
    ```

    上述代码展示了 `switch` 语句的基本用法，根据不同的星期输出不同的工作安排。

### 1.2.2 `if`、`switch` 如何选择

* 如果是对一个范围进行判断，建议使用 `if` 分支结构。
* 如果是与一个一个的值比较的时候，建议使用 `switch` 分支结构。

## 1.3 `switch` 注意事项

1.  **表达式类型限制：**

    * 表达式类型只能是 `byte`、`short`、`int`、`char`。
    *   JDK5 开始支持枚举（`enum`），JDK7 开始支持 `String`。
    * 不支持 `double`、`float`、`long`。
2.  **`case` 值的限制：**

    *   `case` 给出的值不允许重复。
    *   `case` 后面的值只能是字面量，不能是变量。
3.  **`break` 语句：**

    * 正常使用 `switch` 的时候，不要忘记写 `break`，否则会出现穿透现象。
    * 当多个 `case` 语句想要执行同一段代码时，可以利用 `case` 穿透现象，提高代码复用性。

*   **示例（`case` 穿透）：**

    ```java
    String week = "周二";
    switch (week) {
        case "周一":
            System.out.println("埋头苦干，解决bug");
            break;
        case "周二":
        case "周三":
        case "周四":
            System.out.println("请大牛程序员来写代码");
            break;
        case "周五":
            System.out.println("今晚吃鸡");
            break;
        case "周六":
            System.out.println("与王婆介绍的小芳相亲");
            break;
        case "周日":
            System.out.println("郁郁寡欢、准备上班");
            break;
        default:
            System.out.println("您输入的星期信息不存在~~~");
    }
    ```

    在上述代码中，如果 `week` 的值为 " 周二 "、" 周三 " 或 " 周四 "，则会执行相同的代码，这就是 `case` 穿透的例子。
