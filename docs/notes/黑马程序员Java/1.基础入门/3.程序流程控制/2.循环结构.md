---
title: 循环结构
createTime: 2025/06/25 19:44:13
permalink: /notes/HMJava/wqp9y7py/
---
## 2.1 `for` 循环

### 2.1.1 格式和流程

`for` 循环是一种常用的循环结构，适用于已知循环次数的场景。

`for` 循环的格式如下：

```java
for (初始化语句; 循环条件; 迭代语句) {
    循环体语句(重复执行的代码);
}
```

-   **初始化语句**：通常用于定义循环变量并赋初始值，例如 `int i = 0;`。
-   **循环条件**：一个关系表达式，用于判断是否继续循环，结果必须是 `true` 或 `false`，例如 `i < 3;`。
-   **迭代语句**：用于更新循环变量的值，通常是自增或自减操作，例如 `i++;`。
-   **循环体语句**：需要重复执行的代码块。

`for` 循环的执行流程如下：

1.  执行初始化语句（只执行一次）。
2.  判断循环条件是否为 `true`。
    - 如果为 `true`，则执行循环体语句，然后执行迭代语句，再回到第 2 步。
    - 如果为 `false`，则结束循环。

**示例代码**

以下代码演示了如何使用 `for` 循环打印 3 行 "Hello World"。

```java
// 需求：打印3行Hello World
for (int i = 0; i < 3; i++) {
    System.out.println("Hello World");
}
```

### 2.1.2 `for` 循环案例

#### 2.1.2.1 求和

本节通过一个求和的案例来巩固 `for` 循环的使用，并掌握使用程序进行求和的思想。

```java
// 1.掌握使用for循环批量产生数据。
for (int i = 1; i <= 100; i++) {
    System.out.println(i);
}
```

求和的思路：

1.  定义一个求和变量，通常命名为 `sum`，并初始化为 0。
2.  使用 `for` 循环遍历需要求和的数据（例如，1 到 100 之间的所有整数）。
3.  在循环中，将每个数据累加到 `sum` 变量中。
4.  循环结束后，`sum` 变量的值就是所有数据的和。

**示例代码**

以下代码演示了如何使用 `for` 循环计算 1 到 100 之间所有整数的和。

```java
// 2.需求：求1~100中所有整数的和
int sum = 0;
// 定义一个循环，先产生1-100，这100个数
for (int i = 1; i <= 100; i++) {
    // 每产生一个数据，就把这个数和sum累加
    sum += i; //sum = sum  + i;
}
System.out.println("1-100的数据和：" +  sum);
```

#### 2.1.2.2 求奇数和

本节通过一个求奇数和的案例，进一步巩固 `for` 循环的使用，并学习如何在循环中进行条件判断。

**1.  代码写法一**

求奇数和的思路与求和类似，只是需要求和的数据变成了奇数。

1.  定义一个求和变量 `sum1`，并初始化为 0。
2.  使用 `for` 循环遍历 1 到 100 之间的所有奇数。
3.  将每个奇数累加到 `sum1` 变量中。

**示例代码**

以下代码演示了如何使用 `for` 循环计算 1 到 100 之间所有奇数的和。

```java
// 1)定义一个变量用于求和
int sum1 = 0;
// 2)定义一个循环产生1-100之间的奇数
for (int i = 1; i < 100; i+=2) {
    // i = 1 3 5 7 ...
    // 3)让需要求和的数据和sum1累加，
    sum1 += i;
}
System.out.println("1-100之间的奇数和：" +  sum1);
```

**2.  代码写法二**

另一种求奇数和的思路是：

1.  定义一个求和变量 `sum2`，并初始化为 0。
2.  使用 `for` 循环遍历 1 到 100 之间的所有整数。
3.  在循环中，使用 `if` 语句判断当前整数是否为奇数。
4.  如果是奇数，则将其累加到 `sum2` 变量中。

**示例代码**

```java
// 1)首先需要定义一个求和变量，这里命名为sum2
int sum2 = 0; 
// 2)再遍历得到所有需要求和的数据(1~100之间的所有整数)
for (int i = 1; i <= 100; i++) {
    // i = 1 2 3 4 5 6 ... 99 100
    // 3)在求和之前先对数据判断，如果是奇数，才和sum1累加；否则什么也不干
    if(i % 2 == 1){
        // i = 1 3 5 7 9 ... 99
        sum2 += i;
    }
}
System.out.println("1-100之间的奇数和：" + sum2);
```

两种写法都可以实现求奇数和的功能，选择哪种写法取决于具体的需求和个人偏好。第一种写法直接生成奇数，效率可能更高；第二种写法更通用，可以处理更复杂的情况。

## 2.3 `while` 循环

### 2.3.1 格式和流程

`while` 循环是另一种常用的循环结构，适用于循环次数不确定的场景。

`while` 循环的格式如下：

```java
int i = 0; // 初始化语句
while (循环条件) {
    // 循环体语句
    i++; // 迭代语句
}
```

-   **循环条件**：一个关系表达式，用于判断是否继续循环，结果必须是 `true` 或 `false`。
-   **循环体语句**：需要重复执行的代码块。

`while` 循环的执行流程如下：

1.  判断循环条件是否为 `true`。
    - 如果为 `true`，则执行循环体语句，然后回到第 1 步。
    - 如果为 `false`，则结束循环。

**示例代码**

以下代码演示了如何使用 `while` 循环打印 5 行 "Hello World"。

```java
// 需求：打印5行Hello World
int i = 0;
while (i < 5) {
    // i = 0 1 2 3 4
    System.out.println("Hello World");
    i++;
}
```

::: tip `for`、`while` 如何选择

`for` 循环和 `while` 循环的功能类似，都可以实现循环操作。

- 从功能上来说：能够用 `for` 循环做的，都能用 `while` 循环做。

- 从使用规范上来说：如果已知循环次数，建议使用 `for` 循环；如果不知道循环次数，建议使用 `while` 循环。
:::

### 2.3.2 `while` 循环案例——折纸

本节通过一个折纸案例来巩固 `while` 循环的使用，并理解何时使用 `while` 循环来解决问题。

::: question 案例需求

世界最高山峰珠穆朗玛峰高度是：8848.86 米 = 8848860 毫米，假如有一张足够大的纸，其厚度是 0.1 毫米。请问：该纸张折叠多少次，可以折成珠穆朗玛峰的高度？

:::

::: tip 分析

由于不知道折叠多少次才能达到珠穆朗玛峰的高度，因此可以使用 `while` 循环。

1.  定义变量 `peakHeight` 表示珠穆朗玛峰的高度，单位为毫米，初始化为 8848860。
2.  定义变量 `paperThickness` 表示纸张的初始厚度，单位为毫米，初始化为 0.1。
3.  定义变量 `count` 用于记录折叠的次数，初始化为 0。
4.  使用 `while` 循环，循环条件为 `paperThickness < peakHeight`。
5.  在循环中，每次将纸张的厚度乘以 2，并将折叠次数 `count` 加 1。
6.  循环结束后，`count` 的值就是折叠的次数。
:::

**示例代码**

```java
// 1、定义变量记住珠穆朗玛峰的高度和纸张的高度。
double peakHeight = 8848860;
double paperThickness = 0.1;

// 3、定义一个变量count用于记住纸张折叠了多少次
int count = 0;

// 2、定义while循环控制纸张开始折叠
while (paperThickness < peakHeight) {
    // 把纸张进行折叠，把纸张的厚度变成原来的2倍。
    paperThickness = paperThickness * 2;
    count++;
}
System.out.println("需要折叠多少次：" + count);
System.out.println("最终纸张的厚度是：" + paperThickness);
```

## 2.4 `do-while` 循环——格式和流程

`do-while` 循环是第三种循环结构，其特点是先执行循环体，然后再判断循环条件。

`do-while` 循环的格式如下：

```java
int i = 0; // 初始化语句
do {
    // 循环体语句
    i++; // 迭代语句
} while (循环条件);
```

-   **循环条件**：一个关系表达式，用于判断是否继续循环，结果必须是 `true` 或 `false`。
-   **循环体语句**：需要重复执行的代码块。

`do-while` 循环的执行流程如下：

1.  执行循环体语句。
2.  判断循环条件是否为 `true`。
    - 如果为 `true`，则回到第 1 步。
    - 如果为 `false`，则结束循环。

`do-while` 循环的特点是先执行，再判断。即使条件不成立，也会先执行一次。

::: note 三种循环的区别

1.  `for` 循环和 `while` 循环是先判断后执行，`do-while` 循环是先执行后判断。
2.  `for` 循环和 `while` 循环在功能上没有区别，`for` 循环能做的 `while` 循环也能做，反之亦然。如果已知循环次数，建议使用 `for` 循环；如果不知道循环次数，建议使用 `while` 循环。
3.  `for` 循环中控制循环的变量只在循环中使用，`while` 循环中控制循环的变量在循环后还可以继续使用。
:::

## 2.5 死循环

死循环是指循环条件永远为 `true`，导致循环无法停止的情况。

以下是几种常见的死循环写法：

```java
// for死循环
for ( ; ; ){
    System.out.println("Hello World1");
}

// while死循环
while (true) {
    System.out.println("Hello World2");
}

// do-while死循环
do {
    System.out.println("Hello World3");
}while (true);
```

::: note 死循环的应用场景

死循环可以用于需要持续运行的程序，例如服务器程序。服务器程序需要一直运行，才能随时响应客户端的请求。

:::

## 2.6 循环嵌套

循环嵌套是指在一个循环中包含另一个循环。

循环嵌套的执行流程是：外部循环每循环一次，内部循环会全部执行完一轮。

**示例代码**

以下代码演示了如何使用循环嵌套打印一个 4 行 5 列的矩形。

```java
// 1)先写一个循环用来在一行中打印5个"*"
for (int j = 1; j <= 5; j++) {
    System.out.print("*"); // 不换行
}
System.out.println(); //换行

System.out.println("-----------------");

// 2)再将第一步的代码套一层循环，执行4次，就可以打印4行
for (int i = 1; i <= 4; i++) {
    for (int j = 1; j <= 5; j++) {
        System.out.print("*"); // 不换行
    }
    System.out.println(); //换行
}
```

## 2.7 跳转语句 `break`、`continue`

`break` 和 `continue` 是两种跳转语句，用于控制循环的执行流程。

-   `break` 作用：跳出并结束当前所在循环的执行。
-   `continue` 作用：结束本次循环，进入下一次循环。

**示例代码**

以下代码演示了 `break` 的使用：

```java
// 1、break:跳出并结束当前所在循环的执行。
// 场景：假如你又有老婆了，你犯错了，你老婆罚你说：5句我爱你
// 说到第三句的时候心软了，让你别再说了。
for (int i = 1; i <= 5; i++) {
    System.out.println("我爱你：" + i);
    if(i == 3){
        // 说明已经说完了第三句了，心软了。
        break; // 跳出并结束当前所在循环的执行。
    }
}
```

以下代码演示了 `continue` 的使用：

```java
// 2、continue:跳出当前循环的当次执行，直接进入循环的下一次执行。
// 场景: 假如你有老婆，你犯错了，你老婆罚你洗碗5天。
// 第三天的时候，你表现很好，第三天不用洗碗，但是不解恨，第四天还是要继续的。
for (int i = 1; i <= 5; i++) {
    if(i == 3) {
        // 已经到了第三天，第三天不用洗的。
        continue;
    }
    System.out.println("洗碗：" + i);
}
```

需要注意的是，`break` 和 `continue` 只能在循环中使用。
