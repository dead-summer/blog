---
title: 运算符
createTime: 2025/06/24 19:48:02
permalink: /notes/HMJava/y9iijbp5/
---
计算机被设计用来处理数据，而处理数据离不开各种计算，这就需要用到运算符。运算符是参与运算的符号。Java 提供了多种运算符，主要包括以下几种：

- 基本算术运算符
- 自增自减运算符
- 赋值运算符
- 关系运算符
- 逻辑运算符
- 三元运算符

## 4.1 算术运算符

算术运算符是最基本的一类，包括 `+`（加）、`-`（减）、`*`（乘）、`/`（除）和 `%`（取余数）。

需要注意以下两点：

- `/` 运算符：当两个整数相除时，结果也是一个整数，小数部分会被舍去。
- `%` 运算符：用于计算两个数相除后的余数。

此外，`+` 符号除了用于加法运算，还可以作为字符串连接符。当 `+` 符号与字符串一起运算时，会将其他类型的数据转换为字符串，然后进行连接。其结果始终是一个字符串。

以下代码演示了各种算术运算符的运算效果：

```java
public class OperatorDemo1 {
    public static void main(String[] args) {
        // 目标：掌握基本的算术运算符的使用。
        int a = 10;
        int b = 2;
        System.out.println(a + b);
        System.out.println(a - b);
        System.out.println(a * b); // 20
        System.out.println(a / b); // 5
        System.out.println(5 / 2); // 2.5 ==> 2
        System.out.println(5.0 / 2); // 2.5
        int i = 5;
        int j = 2;
        System.out.println(1.0 * i / j); // 2.5

        System.out.println(a % b); // 0
        System.out.println(3 % 2); // 1

        System.out.println("---------------------------------------");

        // 目标2：掌握使用+符号做连接符的情况。
        int a2 = 5;
        System.out.println("abc" + a2); // "abc5"
        System.out.println(a2 + 5); //  10
        System.out.println("itheima" + a2 + 'a'); // "itheima5a"
        System.out.println(a2 + 'a' + "itheima"); // 102itheima
    }
}
```

**代码解释：**

- 这段代码演示了算术运算符的基本用法，重点在于 `/` 运算符在整数相除时的结果，以及 `+` 运算符作为连接符时的行为。例如，`5 / 2` 的结果是 `2`，因为整数除法会舍弃小数部分。而 `"abc" + a2` 会将整数 `a2` 转换为字符串，然后与 `"abc"` 连接。
- 需要注意的是 `'a'` 会被转换成对应的 ASCII 码值 97 ，所以 `a2 + 'a' + "itheima"` 相当于 `5 + 97 + "itheima"` ，结果是 `102itheima`。

## 4.2 自增自减运算符

自增（`++`）和自减（`--`）运算符是常用的单目运算符。`++` 表示将变量的值加 1，`--` 表示将变量的值减 1。

自增自减运算符只能用于变量，不能用于字面量。它们可以放在变量前或变量后，效果有所不同：

1.  **单独使用**：`++` 或 `--` 放在变量前面或后面没有区别，都相当于将变量的值加 1 或减 1。

    ```java
    int a = 10;
    a++;  //11
    --a;  //10
    System.out.println(a); //10
    ```

2.  **混合使用**：`++` 或 `--` 放在变量前面或后面，运算规则有所不同。

    -   `++`/`--` 在后（例如 `a++`）：先使用变量的当前值参与运算，然后再将变量的值加 1 或减 1。等价于 `int b = a; a++;`

    -   `++`/`--` 在前（例如 `--x`）：先将变量的值加 1 或减 1，然后使用更新后的值参与运算。等价于 `x--; int y = x;`

以下代码演示了 `++` 和 `--` 的用法：

```java
public class OperatorDemo2 {
    public static void main(String[] args) {
        // 目标：掌握自增自减运算符的使用。
        int a = 10;
        // a++; // a = a + 1
        ++a;
        System.out.println(a);

        // a--; // a = a - 1
        --a;
        System.out.println(a);

        // 自增自减只能操作变量不能操作字面量的，会报错！
      	//System.out.println(2++);

        System.out.println("--------------------------------------");

        int i = 10;
        int rs = ++i; // 先加后用
        System.out.println(rs);
        System.out.println(i);

        int j = 10;
        int rs2 = j++; // 先用后加
        System.out.println(rs2);
        System.out.println(j);
    }
}
```

**代码解释：**

这段代码演示了自增自减运算符的用法。重点在于区分 `++i` （先自增，后使用）和 `i++` （先使用，后自增）。例如，`int rs = ++i;` 先将 `i` 的值加 1，然后将更新后的值赋给 `rs`。而 `int rs2 = j++;` 先将 `j` 的当前值赋给 `rs2`，然后再将 `j` 的值加 1。

## 4.3 赋值运算符

基本的赋值运算符是 `=`，表示将右边的数据赋值给左边的变量。

```java
int a = 10; //将数据10赋值给左边的变量a
```

除了基本的赋值运算符，还有扩展的赋值运算符，包括 `+=`、`-=`、`*=`、`/=` 和 `%=`。

以 `+=` 为例，`a += 5;` 相当于 `a = a + 5;`，表示在 `a` 原来的值的基础上加上 5，然后将结果重新赋值给 `a`。其他的扩展赋值运算符同理。

以下代码通过一个首发红包的例子演示了扩展赋值运算符的用法：

```java
public class OperatorDemo3 {
    public static void main(String[] args) {
        // 目标：掌握扩展赋值运算符的使用。
        // +=
        // 需求：收红包
        double a = 9.5;
        double b = 520;
        a += b;  // a = (double)(a + b);
        System.out.println(a);

        // -= 需求：发红包
        double i = 600;
        double j = 520;
        i -= j;  // i = (double)(i - j);
        System.out.println(i);

        int m = 10;
        int n = 5;
        // m *= n; // 等价形式： m = (int)(m * n)
        // m /= n; // 等价形式： m = (int)(m / n)
        m %= n;    // 等价形式： m = (int)(m % n)
        System.out.println(m);
    }
}
```

学完扩展赋值运算符的基本使用之后，需要注意以下面试题中涉及的类型转换问题：

::: question 问题 1

下面的代码否有问题？

```java
byte x = 10;
byte y = 30;
x = x + y;
```

:::

::: tip 代码解释

有问题。`x + y` 的结果是 `int` 类型，不能直接赋值给 `byte` 类型的 `x`，需要进行强制类型转换。

:::

::: question 问题 2

下面的代码是否有问题？

```java
byte x = 10;
byte y = 30;
x += 3;
```

:::

::: tip 代码解释

没有问题。`x += 3;` 实际上等价于 `x = (byte)(x + 3);`，这里隐含了一个强制类型转换，所以没有问题。这是扩展赋值运算符的一个特性，在进行运算时会自动进行类型转换。

:::

总结一下赋值运算符：

1.  **基本赋值运算符：**
    -   `=` 符号含义：把右边的值赋值给左边的变量。
2.  **扩展赋值运算符：**
    -   `+= -= *= /= %= ` 符号含义：将右边的数据和左边的变量相加、相减、相乘、相除、取余数后，将结果重新赋值给左边的变量。

## 4.4 关系运算符

关系运算符用于比较两个值之间的关系，包括 `>`（大于）、`>=`（大于等于）、`<`（小于）、`<=`（小于等于）、`==`（等于）和 `!=`（不等于）。关系运算符的结果是布尔值（`true` 或 `false`）。

以下代码演示了各种关系运算符的效果：

```java
public class OperatorDemo4 {
    public static void main(String[] args) {
        // 目标：掌握关系运算符的基本使用。
        int a = 10;
        int b = 5;
        boolean rs = a > b;
        System.out.println(rs);

        System.out.println(a >= b); // 要么a大于b,或者a等于b
        System.out.println(2 >= 2); // true
        System.out.println(a < b);
        System.out.println(a <= b); // false
        System.out.println(2 <= 2); // true
        System.out.println(a == b); // false
        System.out.println(5 == 5); // true
      
        // 注意了：判断是否相等一定是用 == ，=是用来赋值的。
        // System.out.println(a = b); 
        System.out.println(a != b); // true
        System.out.println(10 != 10); // false

        System.out.println(false ^ true ^ false);
    }
}
```

现在只需要知道每一种关系运算符的运算效果就行了，关于关系运算符的实际运用需要在后面学习了流程控制语句才能实际用到。关系运算符在程序中常用于条件判断，根据条件判断的结果是 true 还是 false，来决定后续该执行哪些操作。

## 4.5 逻辑运算符

逻辑运算符用于组合多个条件，包括 `&`（逻辑与）、`|`（逻辑或）、`!`（逻辑非）、`^`（逻辑异或）、`&&`（短路与）和 `||`（短路或）。逻辑运算符的结果也是布尔值（`true` 或 `false`）。

以下代码演示了逻辑运算符的使用：

```java
public class OperatorDemo5 {
    public static void main(String[] args) {
        // 目标：掌握逻辑运算符的使用。
        // 需求：要求手机必须满足尺寸大于等于6.95，且内存必须大于等于8.
        double size = 6.8;
        int storage = 16;
        // 1、& 前后的条件的结果必须都是true ,结果才是true.
        boolean rs = size >= 6.95 & storage >= 8;
        System.out.println(rs);

        // 需求2：要求手机要么满足尺寸大于等于6.95，要么内存必须大于等于8.
        // 2、| 只要多个条件中有一个是true,结果就是true.
        boolean rs2 = size >= 6.95 | storage >= 8;
        System.out.println(rs2);

        // 3、!取反的意思
        System.out.println(!true); // false
        System.out.println(!false); // true
        System.out.println(!(2 > 1)); // false

        // 4、^ 前后条件的结果相同时返回false，不同时返回true.
        System.out.println(true ^ true); // false
        System.out.println(false ^ false); // false
        System.out.println(true ^ false); // true
        System.out.println(false ^ true); // true

        // 5、&& 左边为false，右边不执行。
        int i = 10;
        int j = 20;
        // System.out.println(i > 100 && ++j > 99);
        System.out.println(i > 100 & ++j > 99);
        System.out.println(j);

        // 6、|| 左边是true ，右边就不执行。
        int m = 10;
        int n = 30;
        // System.out.println(m > 3 || ++n > 40);
        System.out.println(m > 3 | ++n > 40);
        System.out.println(n);
    }
}
```

**代码解释：**

这段代码演示了逻辑运算符的用法。

-   `&`（逻辑与）和 `&&`（短路与）：都要求所有条件为 `true`，结果才为 `true`。但 `&&` 具有短路特性，如果左边的条件为 `false`，则右边的条件不会执行。
-   `|`（逻辑或）和 `||`（短路或）：只要有一个条件为 `true`，结果就为 `true`。但 `||` 具有短路特性，如果左边的条件为 `true`，则右边的条件不会执行。
-   `!`（逻辑非）：对条件取反。
-   `^`（逻辑异或）：当两个条件的结果不同时，结果为 `true`；相同时，结果为 `false`。

逻辑运算符在程序中常用于组合几个条件判断，根据条件判断的结果是 true 还是 false，来决定后续该执行哪些操作。

## 4.6 三元运算符

三元运算符的格式为：`关系表达式 ? 值 1 : 值 2;`

三元运算符的执行流程是：首先计算关系表达式的值，如果关系表达式的值为 `true`，则返回 值 1；如果关系表达式的值为 `false`，则返回 值 2。

以下代码演示了三元运算符的格式和执行流程：

```java
public class OperatorDemo6 {
    public static void main(String[] args) {
        // 目标：掌握三元运算符的基本使用。
        double score = 58.5;
        String rs = score >= 60 ? "成绩及格" : "成绩不及格";
        System.out.println(rs);

        // 需求2：找出2个整数中的较大值，并输出。
        int a = 99;
        int b = 69;
        int max = a > b ? a : b;
        System.out.println(max);

        // 需求3：找3个整数中的较大值。
        int i = 10;
        int j = 45;
        int k = 34;

        // 找出2个整数中的较大值。
        int temp = i > j ? i : j;
        // 找出temp与k中的较大值。
        int max2 = temp > k ? temp : k;
        System.out.println(max2);
    }
}
```

**代码解释：**

这段代码演示了三元运算符的用法。例如，`String rs = score >= 60 ? "成绩及格" : "成绩不及格";` 如果 `score` 大于等于 60，则 `rs` 的值为 `"成绩及格"`，否则为 `"成绩不及格"`。三元运算符可以简化简单的条件判断语句。

## 4.7 运算优先级

最后，了解一下运算符的优先级。

| 优先级 | 运算符                          |
| --- | ---------------------------- |
| 1   | `0`                          |
| 2   | `!, ~, ++, --`               |
| 3   | `*, /, %`                    |
| 4   | `+, -`                       |
| 5   | `<<, >>, >>>`                |
| 6   | `<, <=, >, >=, instanceof`   |
| 7   | `==, !=`                     |
| 8   | `&`                          |
| 9   | `^`                          |
| 10  |  `\|`                        |
| 11  | `&&`                         |
| 12  | `\|\|`                       |
| 13  | `?:`                         |
| 14  | `=, +=, -=, *=, /=, %=, &=,` |

由此可以发现，`&&` 运算比 `||` 运算的优先级高，所以 `&&` 和 `||` 同时存在时，先算 `&&` 再算 `||`。

比如下面的代码：

```java
//这里&&先算 相当于 true || false 结果为true
System.out.println(10 > 3 || 10 > 3 && 10 < 3); // true
```

建议在实际开发中，为了提高代码的可读性，可以使用 `()` 来明确指定运算的优先级。

```java
//有括号先算 相当于 true && false 结果为false
System.out.println((10 > 3 || 10 > 3) && 10 < 3); //false
```

通过使用括号，可以更清晰地表达代码的意图，避免因为运算符优先级而产生混淆。
